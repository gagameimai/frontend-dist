import{_ as v,P as b,c as o,a as e,b as m,w as x,h as f,v as g,F as _,r as y,d as I,e as L,g as w,o as r,t as d,p as C,f as k}from"./Bs_HIlI6.js";const S={name:"carFrame",data(){return{carFrameList:[],brandList:[],car:[],modelList:[],yearList:[],brandInputValue:"",modelInputValue:"",yearInputValue:""}},mounted(){this.getListData()},methods:{getListData(){this.$axios.get("https://admin.meimai.com.tw/api/car").then(async l=>{let s=l.data.car_brand,a=l.data.car;if(s){this.brandList=s;let i=(this._.provides[b]||this.$route).query.brand,n=(this._.provides[b]||this.$route).query.model,u=(this._.provides[b]||this.$route).query.year;i?(this.brandInputValue=i,this.modelInputValue=n,this.yearInputValue=u):this.brandList.forEach(p=>{if(p.name=="TOYOTA"){this.brandInputValue=p.id,this.modelInputValue="",this.yearInputValue="";return}}),await this.getCarFrame()}a&&(this.car=a),this.brandChange(),this.modelChange()})},getCarFrame(){return new Promise((l,s)=>{let a={car_brand_id:this.brandInputValue,car_id:this.modelInputValue=="all"?"":this.modelInputValue,year:this.yearInputValue=="all"?"":this.yearInputValue};this.$axios.get("https://admin.meimai.com.tw/api/carframe",{params:a}).then(i=>{let n=i.data.result;n&&(this.carFrameList=n,this.$router.push({path:"/carFrame",query:{brand:this.brandInputValue,model:this.modelInputValue,year:this.yearInputValue}}),l())})})},brandChange(l){this.modelList=[],this.car.forEach(s=>{this.brandInputValue==s.car_brand_id&&this.modelList.push(s)}),l&&(this.modelInputValue="",this.yearInputValue="")},modelChange(){this.yearList=[];let l=0,s=0;if(this.modelInputValue==""||this.modelInputValue=="all"){if(this.modelList.forEach((a,i)=>{i==0?(l=a.year_start,s=a.year_end):(a.year_start<l&&(l=a.year_start),a.year_end>s&&(s=a.year_end))}),l!=0&&s!=0){let a=+s-+l;this.yearList.push(l);for(let i=1;i<=a;i++)this.yearList.push(+l+i)}}else this.modelList.forEach(a=>{if(this.modelInputValue==a.id){let i=+a.year_end-+a.year_start;this.yearList.push(a.year_start);for(let n=1;n<=i;n++)this.yearList.push(+a.year_start+n)}})}}},h=l=>(C("data-v-ffbfba43"),l=l(),k(),l),E={class:"img_box banner"},B={class:"text-center pt-28 pb-20 md:py-14 lg:pt-44"},D={class:"hidden lg:block text-white text-2xl font-semibold mb-10"},q={class:"hover:text-yellow-400 transition-all duration-300"},F=h(()=>e("span",null," / ",-1)),N=h(()=>e("span",null,"安卓車框",-1)),P={class:"container mx-auto px-5"},T={class:"lg:grid grid-cols-10 gap-5"},U={class:"col-span-3 mb-3 lg:mb-0"},M=h(()=>e("option",{selected:"",value:""},"選擇汽車品牌",-1)),O=["value"],Y={class:"col-span-3 mb-3 lg:mb-0"},j=h(()=>e("option",{selected:"",value:""},"選擇車款",-1)),z=["value"],A={class:"col-span-3 mb-3 lg:mb-0"},R=h(()=>e("option",{selected:"",value:""},"選擇年份",-1)),G={class:"col-span-1"},H={class:"container mx-auto px-5 py-10 md:py-20"},J={class:"md:grid md:grid-cols-3 xl:grid-cols-4 gap-8"},K=["src","alt"],Q=h(()=>e("hr",{class:"mb-2"},null,-1)),W={class:"text-xl font-semibold"},X={class:"text-xl flex items-center"},Z={class:"mr-2"},$={class:"text-md font-medium border rounded-sm border-yellow-400 px-1"};function tt(l,s,a,i,n,u){const p=L,V=w("font-awesome-icon");return r(),o("section",null,[e("div",E,[e("div",B,[e("p",D,[e("span",q,[m(p,{to:"/"},{default:x(()=>[I("首頁")]),_:1})]),F,N]),e("div",P,[e("div",T,[e("div",U,[f(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>n.brandInputValue=t),onChange:s[1]||(s[1]=t=>u.brandChange(!0)),class:"w-full h-12 p-3 text-black"},[M,(r(!0),o(_,null,y(n.brandList,(t,c)=>(r(),o("option",{key:c,value:t.id},d(t.name),9,O))),128))],544),[[g,n.brandInputValue]])]),e("div",Y,[f(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>n.modelInputValue=t),onChange:s[3]||(s[3]=(...t)=>u.modelChange&&u.modelChange(...t)),class:"w-full h-12 p-3 text-black"},[j,(r(!0),o(_,null,y(n.modelList,(t,c)=>(r(),o("option",{key:c,value:t.id},d(t.name),9,z))),128))],544),[[g,n.modelInputValue]])]),e("div",A,[f(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>n.yearInputValue=t),class:"w-full h-12 p-3 text-black"},[R,(r(!0),o(_,null,y(n.yearList,(t,c)=>(r(),o("option",{key:c},d(t),1))),128))],512),[[g,n.yearInputValue]])]),e("div",G,[e("button",{onClick:s[5]||(s[5]=(...t)=>u.getCarFrame&&u.getCarFrame(...t)),class:"w-full h-full text-white font-medium bg-yellow-300 hover:bg-yellow-400 transition-all duration-300 py-2"},[m(V,{class:"text-sm mr-2",icon:["fas","search"]}),I("搜尋 ")])])])])])]),e("div",H,[e("div",J,[(r(!0),o(_,null,y(n.carFrameList,(t,c)=>(r(),o("div",{key:c,class:"col-span-1 py-5"},[m(p,{to:"/carFrameDetail/"+t.id},{default:x(()=>[e("img",{class:"mb-3",src:t.img,alt:t.name},null,8,K),Q,e("h3",W,[m(V,{class:"text-yellow-400 mr-3",icon:["fas","arrow-alt-circle-right"]}),e("i",null,d(t.brand_name)+" "+d(t.car_name)+" "+d(t.name),1)]),e("p",X,[e("span",Z,d(t.year_start)+"~"+d(t.year_end),1),e("span",$,d(t.size)+"吋",1)])]),_:2},1032,["to"])]))),128))])])])}const st=v(S,[["render",tt],["__scopeId","data-v-ffbfba43"]]);export{st as default};
