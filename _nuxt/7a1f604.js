(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{278:function(t,e,r){t.exports=r.p+"img/banner.3d01cc7.png"},311:function(t,e,r){var content=r(342);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("cddabaf2",content,!0,{sourceMap:!1})},341:function(t,e,r){"use strict";r(311)},342:function(t,e,r){var l=r(22),n=r(274),c=r(278),o=l((function(i){return i[1]})),d=n(c);o.push([t.i,".banner[data-v-4de49acc]{\n  background-image:url("+d+")\n}",""]),o.locals={},t.exports=o},367:function(t,e,r){"use strict";r.r(e);var l,n=r(86),c=r(7),o=(r(55),r(56),r(125),r(39),r(28),r(17),r(292),r(29),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(309),r(35),r(69),r(70),r(40),r(310)),d={name:"carFrame",data:function(){return{carFrame:o.a,breadcrumbBlands:this.$route.query.bland,breadcrumbModel:this.$route.query.model,brandList:[],car:[],types:[],modelList:[],years:[],yearList:[],blandInputValue:"選擇汽車品牌",modelInputValue:"選擇車款",yearInputValue:"選擇年份",totalPage:5,currentPage:1,filterData:[],fiterCarFrames:[],carFrameList:[],carMediaList:[],carBlindSpotList:[],carFittingList:[]}},mounted:(l=Object(c.a)(regeneratorRuntime.mark((function t(){var e,r,l,c,o,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getListData();case 2:localStorage.getItem("brand")?(this.blandInputValue=localStorage.getItem("brand"),this.modelInputValue=localStorage.getItem("model"),this.yearInputValue=localStorage.getItem("year"),this.brandChange(!0),this.modelChange(),this.search(),e=this.carFrame.filter((function(t){return t.bland===d.blandInputValue})),r=[],e.forEach((function(t){r.push.apply(r,Object(n.a)(t.model))})),this.types=Object(n.a)(new Set(r)),l=this.carFrame.filter((function(t){return t.bland===d.blandInputValue&&t.type.includes(d.modelInputValue)})),c=[],l.forEach((function(t){c.push.apply(c,Object(n.a)(t.year))})),this.years=Object(n.a)(new Set(c))):(this.blandInputValue=this.$route.query.bland,this.modelInputValue=this.$route.query.model,this.yearInputValue=this.$route.query.year),"all"==this.modelInputValue&&"all"==this.yearInputValue?this.fiterCarFrames=this.carFrame.filter((function(t){return t.bland==d.blandInputValue})):"all"==this.yearInputValue?this.fiterCarFrames=this.carFrame.filter((function(t){return t.bland==d.blandInputValue&&t.model.includes(d.modelInputValue)})):this.fiterCarFrames=this.carFrame.filter((function(t){return t.bland==d.blandInputValue&&t.model.includes(d.modelInputValue)&&t.year.includes(1*d.yearInputValue)})),o=Math.ceil(this.carFrame.length/20),this.totalPage=o;case 6:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),methods:{getListData:function(){var t=this;return new Promise((function(e){t.$http.get("https://admin.meimai.com.tw/api/car").then((function(r){var l=r.data.car_brand,n=r.data.car;l&&(t.brandList=l),n&&(t.car=n),e()}))}))},increasePage:function(){this.currentPage>=this.totalPage||(this.currentPage++,this.changePage())},decreasePage:function(){this.currentPage<=1||(this.currentPage--,this.changePage())},changePage:function(){this.filterData=this.carFrame.slice(20*(this.currentPage-1),20*this.currentPage),window.scrollTo(0,0)},brandChange:function(t){var e=this;t||(this.modelInputValue="選擇車款",this.yearInputValue="選擇年份"),this.typeSelect=!0,this.yearSelect=!0;var r=this.carFrame.filter((function(t){return t.bland===e.blandInputValue})),l=[];r.forEach((function(t){l.push.apply(l,Object(n.a)(t.model))})),this.types=Object(n.a)(new Set(l)),this.typeSelect=!1,this.breadcrumbBlands=this.blandInputValue,this.breadcrumbModel="",this.modelList=[],this.car.forEach((function(t){e.blandInputValue==t.car_brand_id&&e.modelList.push(t)}))},modelChange:function(){var t=this,e=this.carFrame.filter((function(e){return e.bland===t.blandInputValue&&e.type.includes(t.modelInputValue)})),r=[];e.forEach((function(t){r.push.apply(r,Object(n.a)(t.year))})),this.years=Object(n.a)(new Set(r)),this.yearSelect=!1,this.breadcrumbModel=this.modelInputValue,this.yearList=[];var l=0,c=0;if("all"==this.modelInputValue){if(this.modelList.forEach((function(t,e){0==e?(l=t.year_start,c=t.year_end):(t.year_start<l&&(l=t.year_start),t.year_end>c&&(c=t.year_end))})),0!=l&&0!=c){var o=+c-+l;this.yearList.push(l);for(var i=1;i<=o;i++)this.yearList.push(+l+i)}}else this.modelList.forEach((function(e){if(t.modelInputValue==e.id){var r=+e.year_end-+e.year_start;t.yearList.push(e.year_start);for(var l=1;l<=r;l++)t.yearList.push(+e.year_start+l)}}))},search:function(){var t=this;if("選擇汽車品牌"!=this.blandInputValue)if("選擇車款"!=this.modelInputValue)if("選擇年份"!=this.yearInputValue){this.carFrameList=[],this.carMediaList=[],this.carBlindSpotList=[],this.carFittingList=[];var e={car_brand_id:this.blandInputValue,car_id:"all"!=this.modelInputValue&&this.modelInputValue?this.modelInputValue:"",year:"all"!=this.yearInputValue&&this.yearInputValue?this.yearInputValue:""};this.$http.get("https://admin.meimai.com.tw/api/search",{params:e}).then((function(e){var r=e.data.result;r&&(r.car_frame.length>0&&(t.carFrameList=r.car_frame),r.car_media.length>0&&(t.carMediaList=r.car_media),r.car_blind_spot.length>0&&(t.carBlindSpotList=r.car_blind_spot),r.car_fitting.length>0&&(t.carFittingList=r.car_fitting))})),this.storeLocalStorage()}else alert("請選擇年份");else alert("請選擇車款");else alert("請選擇汽車品牌")},storeLocalStorage:function(){localStorage.setItem("bland",this.blandInputValue),localStorage.setItem("model",this.modelInputValue),localStorage.setItem("year",this.yearInputValue)}}},m=(r(341),r(15)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"img_box banner"},[r("div",{staticClass:"text-center pt-28 pb-20 md:py-14 lg:pt-44"},[r("p",{staticClass:"hidden lg:block text-white text-2xl font-semibold mb-10"}),t._v(" "),r("div",{staticClass:"container mx-auto px-5"},[r("div",{staticClass:"lg:grid grid-cols-10 gap-5"},[r("div",{staticClass:"col-span-3 mb-3 lg:mb-0"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.blandInputValue,expression:"blandInputValue"}],staticClass:"w-full h-12 p-3 text-black",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.blandInputValue=e.target.multiple?r:r[0]},t.brandChange]}},[r("option",{attrs:{selected:"",disabled:""}},[t._v("選擇汽車品牌")]),t._v(" "),t._l(t.brandList,(function(e,l){return r("option",{key:l,domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])}))],2)]),t._v(" "),r("div",{staticClass:"col-span-3 mb-3 lg:mb-0"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.modelInputValue,expression:"modelInputValue"}],staticClass:"w-full h-12 p-3 text-black",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.modelInputValue=e.target.multiple?r:r[0]},t.modelChange]}},[r("option",{attrs:{selected:"",disabled:""}},[t._v("選擇車款")]),t._v(" "),t._l(t.modelList,(function(e,l){return r("option",{key:l,domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")])})),t._v(" "),r("option",{attrs:{value:"all"}},[t._v("所有車款")])],2)]),t._v(" "),r("div",{staticClass:"col-span-3 mb-3 lg:mb-0"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.yearInputValue,expression:"yearInputValue"}],staticClass:"w-full h-12 p-3 text-black",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.yearInputValue=e.target.multiple?r:r[0]}}},[r("option",{attrs:{selected:"",disabled:""}},[t._v("選擇年份")]),t._v(" "),t._l(t.yearList,(function(e,l){return r("option",{key:l},[t._v("\n                "+t._s(e)+"\n              ")])})),t._v(" "),r("option",{attrs:{value:"all"}},[t._v("所有年份")])],2)]),t._v(" "),r("div",{staticClass:"col-span-1"},[r("button",{staticClass:"w-full h-full text-white font-medium bg-yellow-300 hover:bg-yellow-400 transition-all duration-300 py-2",on:{click:t.search}},[r("fa",{staticClass:"text-sm mr-2",attrs:{icon:["fas","search"]}}),t._v("搜尋\n            ")],1)])])])])]),t._v(" "),r("div",{staticClass:"container mx-auto px-5 py-20"},[r("div",{staticClass:"py-10 lg:py-14"},[r("h2",{staticClass:"text-2xl lg:text-3xl font-semibold py-5"},[t._v("多媒體機車框")]),t._v(" "),r("div",{staticClass:"md:grid md:grid-cols-3 xl:grid-cols-4 gap-8"},t._l(t.carFrameList,(function(e,l){return r("div",{key:l,staticClass:"col-span-1 py-5"},[r("nuxt-link",{attrs:{to:{name:"carFrameDetail-id",query:{id:e.id}}}},[r("img",{staticClass:"mb-3",attrs:{src:e.img,alt:e.name}}),t._v(" "),r("hr",{staticClass:"mb-2"}),t._v(" "),r("h3",{staticClass:"text-xl font-semibold"},[r("fa",{staticClass:"text-yellow-400 mr-3",attrs:{icon:["fas","arrow-alt-circle-right"]}}),r("i",[t._v(t._s(e.brand_name)+" "+t._s(e.car_name)+" "+t._s(e.name))])],1),t._v(" "),r("p",{staticClass:"text-xl flex items-center"},[r("span",{staticClass:"mr-2"},[t._v(t._s(e.year_start)+" ~ "+t._s(e.year_end))]),t._v(" "),r("span",{staticClass:"text-sm font-medium border rounded-sm border-yellow-400 px-1"},[t._v("\n                "+t._s(e.size)+"吋\n              ")])])])],1)})),0)]),t._v(" "),r("div",{staticClass:"py-10 lg:py-14"},[r("h2",{staticClass:"text-2xl lg:text-3xl font-semibold py-5"},[t._v("\n        安卓車用多媒體機\n      ")]),t._v(" "),r("div",{staticClass:"md:grid md:grid-cols-3 xl:grid-cols-4 gap-8"},t._l(t.carMediaList,(function(e,l){return r("div",{key:l,staticClass:"col-span-1 py-5"},[r("nuxt-link",{attrs:{to:{name:"multimediaDetail-id",query:{id:e.id}}}},[r("img",{staticClass:"mb-3",attrs:{src:e.img,alt:e.name}}),t._v(" "),r("hr",{staticClass:"mb-2"}),t._v(" "),r("h3",{staticClass:"text-xl font-semibold"},[r("fa",{staticClass:"text-yellow-400 mr-3",attrs:{icon:["fas","arrow-alt-circle-right"]}}),r("i",[t._v(t._s(e.name))])],1)])],1)})),0)]),t._v(" "),r("div",{staticClass:"py-10 md:py-14 lg:py-20"},[r("h2",{staticClass:"text-2xl lg:text-3xl font-semibold py-5"},[t._v("盲點偵測")]),t._v(" "),r("div",{staticClass:"md:grid md:grid-cols-3 xl:grid-cols-4 gap-8"},t._l(t.carBlindSpotList,(function(e,l){return r("div",{key:l,staticClass:"col-span-1 py-5"},[r("nuxt-link",{attrs:{to:{name:"carBlindSpotDetail-id",query:{id:e.id}}}},[r("img",{staticClass:"mb-3",attrs:{src:e.img,alt:e.name}}),t._v(" "),r("hr",{staticClass:"mb-2"}),t._v(" "),r("h3",{staticClass:"text-xl font-semibold"},[r("fa",{staticClass:"text-yellow-400 mr-3",attrs:{icon:["fas","arrow-alt-circle-right"]}}),r("i",[t._v(t._s(e.name))])],1)])],1)})),0)]),t._v(" "),r("div",{staticClass:"py-10 lg:py-14"},[r("h2",{staticClass:"text-2xl lg:text-3xl font-semibold py-5"},[t._v("車用配件")]),t._v(" "),r("div",{staticClass:"md:grid md:grid-cols-3 xl:grid-cols-4 gap-8"},t._l(t.carFittingList,(function(e,l){return r("div",{key:l,staticClass:"col-span-1 py-5"},[r("nuxt-link",{attrs:{to:{name:"fittingDetail-id",query:{id:e.id}}}},[r("img",{staticClass:"mb-3",attrs:{src:e.img,alt:e.name}}),t._v(" "),r("hr",{staticClass:"mb-2"}),t._v(" "),r("h3",{staticClass:"text-xl font-semibold"},[r("fa",{staticClass:"text-yellow-400 mr-3",attrs:{icon:["fas","arrow-alt-circle-right"]}}),r("i",[t._v(t._s(e.name))])],1)])],1)})),0)])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.filterData.length>=20,expression:"filterData.length >= 20"}],staticClass:"container mx-auto px-5 py-20"},[r("div",{staticClass:"flex justify-center"},[r("ul",{staticClass:"flex"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.currentPage>1,expression:"currentPage > 1"}],staticClass:"bg-gray-50 hover:bg-yellow-400 text-2xl text-yellow-400 hover:text-white transition-all duration-300 cursor-pointer border px-5 py-2 mr-4",on:{click:t.decreasePage}},[r("fa",{attrs:{icon:["fas","caret-left"]}})],1),t._v(" "),r("li",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.currentPage,expression:"currentPage"}],staticClass:"w-20 h-12 p-3 text-black border mr-4",attrs:{name:"",id:""},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.currentPage=e.target.multiple?r:r[0]},function(e){return t.changePage()}]}},t._l(t.totalPage,(function(e,l){return r("option",{key:l},[t._v("\n              "+t._s(e)+"\n            ")])})),0)]),t._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:t.currentPage<5,expression:"currentPage < 5"}],staticClass:"bg-gray-50 hover:bg-yellow-400 text-2xl text-yellow-400 hover:text-white transition-all duration-300 cursor-pointer border px-5 py-2",on:{click:t.increasePage}},[r("fa",{attrs:{icon:["fas","caret-right"]}})],1)])])])])}),[],!1,null,"4de49acc",null);e.default=component.exports}}]);